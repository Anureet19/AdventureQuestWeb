<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Offers and Events</title>
    <script type="text/javascript">
        window.onload = function() {
            let cost;
            if (document.getElementById("id_sub_pass_type").value == 0) {
                cost = 10
            } else if (document.getElementById("id_sub_pass_type").value == 1) {
                cost = 15
            } else {
                cost = 20
            }
            document.getElementById("id_total_cost").value = document.getElementById("id_members").value * cost
            document.getElementById("id_sub_pass_type").onchange = total_package_cost;
            document.getElementById("id_members").onchange = total_package_cost;


            const passTypeRadios = document.querySelectorAll('input[name="pass_type"]');

            // Add event listeners to each radio button
            for (let i = 0; i < passTypeRadios.length; i++) {
                passTypeRadios[i].addEventListener('change', function () {
                    // Call your function on change
                    coupleCheck();
                });
            }

            function coupleCheck() {
                if (document.getElementById("id_pass_type_2").checked) {
                    document.getElementById("id_members").value = 2
                } else {
                    document.getElementById("id_members").value = 1
                }

            }

            function total_package_cost() {
                if (document.getElementById("id_sub_pass_type").value == 0) {
                    cost = 10
                } else if (document.getElementById("id_sub_pass_type").value == 1) {
                    cost = 15
                } else {
                    cost = 20
                }
                if (document.getElementById("id_pass_type_0").checked || document.getElementById("id_pass_type_1").checked) {

                    document.getElementById("id_total_cost").value = document.getElementById("id_members").value * cost
                } else {
                    document.getElementById("id_total_cost").value = cost * 2
                }

                total_number_of_passes();
            }

            function total_number_of_passes() {
                if (document.getElementById("id_pass_type_0").checked || document.getElementById("id_pass_type_1").checked) {
                    if (document.getElementById("id_members").value > 10) {
                        document.getElementById("id_number_of_pass").value = Math.ceil(document.getElementById("id_members").value / 10)
                    }
                } else {
                    document.getElementById("id_number_of_pass").value = Math.ceil(document.getElementById("id_members").value / 2)
                }
            }
        }
    </script>
</head>
<body>
<p> Welcome to Adventure Quest Offers</p>
 <form action="{% url 'offers' %}" method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <input type="submit" value="Submit" />
    </form>
</body>
</html>